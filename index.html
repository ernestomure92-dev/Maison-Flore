<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Maison Floral∆í ¬∑ Florer√≠a en CDMX</title>
  <style>
    /* ===== SISTEMA DE TEMAS ===== */
    :root, html[data-theme="base"]{
      --amarillo:#FFD84D; --verde:#6AC26A; --verde-dark:#2E8742;
      --cafe:#5A3412; --dorado:#FFB84A; --crema:#FFFDF9;
      --texto:#1B1B1B; --gris-600:#6B6B6B; --borde:#F0D6E0;
    }
    html[data-theme="sanvalentin"]{
      --amarillo:#FFD84D; --verde:#D83D68; --verde-dark:#A62D4F;
      --cafe:#4A2A0E; --crema:#FFF8FA; --texto:#1B1B1B; --borde:#F3C6D6;
    }

    /* ===== BASE ===== */
    *{box-sizing:border-box}
    html,body{
      margin:0; padding:0;
      font-family: system-ui, -apple-system, sans-serif;
      color:var(--texto); background-color: var(--crema);
      transition: background 0.4s ease; scroll-behavior: smooth;
    }
    .container{max-width:1100px; margin:0 auto; padding:0 16px}

    /* ===== HEADER & HERO ===== */
    header{position:sticky; top:0; z-index:20; background:rgba(255,255,255,0.8); backdrop-filter:blur(10px); border-bottom:1px solid var(--borde)}
    .header-wrap{display:flex; align-items:center; justify-content:space-between; padding:12px 0}
    .brand{display:flex; align-items:center; gap:10px; font-weight:800; color:var(--cafe); text-decoration:none}
    .brand img{width:40px; height:40px; border-radius:8px; object-fit:cover}

    .hero{padding:40px 0}
    .hero-grid{display:grid; gap:24px}
    .hero h1{font-size:36px; margin:0; color:var(--cafe); line-height:1.2}
    .img-container{border-radius:32px; background:#fff; border:1px solid var(--borde); padding:20px; text-align:center; box-shadow: 0 10px 30px rgba(0,0,0,0.02)}
    .img-container img{max-height:350px; width:auto}

    /* ===== BOTONES & FILTROS ===== */
    .btn{display:inline-block; padding:14px 22px; border-radius:14px; font-weight:700; text-decoration:none; transition:0.2s; border:none; cursor:pointer; text-align:center}
    .btn-secondary{background:var(--verde); color:#fff}
    .btn-secondary:hover{background:var(--verde-dark); transform: scale(1.02)}
    .btn-outline{border:1px solid var(--borde); background:#fff}
    
    .search input{width:100%; padding:14px; border-radius:14px; border:1px solid var(--borde); margin: 20px 0 10px 0; font-size:16px; outline-color: var(--verde)}
    
    .badges{display:flex; gap:8px; overflow-x:auto; padding:10px 0; scrollbar-width: none}
    .badge{padding:10px 18px; border:1px solid var(--borde); border-radius:999px; white-space:nowrap; background:#fff; cursor:pointer; font-weight:500; transition: 0.2s}
    .badge.active{background:var(--amarillo); border-color:transparent; color:var(--cafe)}

    /* ===== PRODUCTOS ===== */
    .grid{display:grid; gap:16px; margin-top:20px}
    .card{background:#fff; border:1px solid var(--borde); border-radius:20px; overflow:hidden; transition: 0.3s; animation: fadeIn 0.5s ease forwards}
    .card:hover{transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.05)}
    .thumb{aspect-ratio:1/1; background:#f9f9f9; position:relative}
    .thumb img{width:100%; height:100%; object-fit:cover}
    .price{color:var(--verde); font-weight:800; font-size:1.2rem}

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* ===== RESE√ëAS ===== */
    .reviews-section{background:rgba(255,255,255,0.5); padding:60px 0; margin-top:40px; border-top:1px solid var(--borde)}
    .reviews-grid{display:grid; gap:20px; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr))}
    .review-card{background:#fff; padding:25px; border-radius:20px; border:1px solid var(--borde)}
    .stars{color:var(--amarillo); margin-bottom:10px}

    .whatsapp-fab{position:fixed; right:20px; bottom:20px; background:#25D366; color:#fff; border-radius:999px; padding:16px 24px; font-weight:700; text-decoration:none; z-index:100; box-shadow:0 8px 20px rgba(0,0,0,0.1); transition: 0.3s}
    .whatsapp-fab:hover{transform: scale(1.1)}

    @media(min-width:768px){
      .hero-grid{grid-template-columns:1.2fr 1fr; align-items:center}
      .grid{grid-template-columns:repeat(3,1fr)}
      .hero h1{font-size:48px}
    }
    @media(min-width:1024px){
      .grid{grid-template-columns:repeat(4,1fr)}
    }
  </style>
</head>
<body>

  <header>
    <div class="container header-wrap">
      <a href="#" class="brand">
        <img src="assets/logo1.png" alt="Maison Floral Logo" onerror="this.src='https://cdn-icons-png.flaticon.com/512/3062/3062223.png'">
        <span>Maison &amp; Floral</span>
      </a>
      <nav style="display:flex; gap:15px">
        <a href="#catalogo" style="font-size:14px; font-weight:500; text-decoration:none; color:inherit">Cat√°logo</a>
        <a href="#resenas" style="font-size:14px; font-weight:500; text-decoration:none; color:inherit">Rese√±as</a>
      </nav>
    </div>
  </header>

  <section class="hero">
    <div class="container hero-grid">
      <div>
        <h1>Arreglos que<br><span style="color:var(--verde)">hablan por ti üíê</span></h1>
        <p style="color:var(--gris-600); font-size:1.1rem">Flores frescas con entrega el mismo d√≠a en CDMX.</p>
        <div style="display:flex; gap:10px; margin-top:20px">
          <a id="ctaHero" class="btn btn-secondary" target="_blank">Pedir por WhatsApp üí¨</a>
          <a href="#catalogo" class="btn btn-outline">Ver Cat√°logo</a>
        </div>
        <div class="search">
          <input id="buscar" type="search" placeholder="Busca rosas, girasoles, amor...">
        </div>
        <div class="badges" id="filtros">
          <button class="badge active" data-filter="all">Todo</button>
          <button class="badge" data-filter="cumple">Cumplea√±os</button>
          <button class="badge" data-filter="aniversario">Aniversario</button>
          <button class="badge" data-filter="express">Express hoy</button>
          <button class="badge" data-filter="regalos">Regalos</button>
        </div>
      </div>
      <div class="img-container">
        <img src="assets/hero/jorge.png" alt="Arreglo del d√≠a" onerror="this.src='https://images.unsplash.com/photo-1526047932273-341f2a7631f9?w=600'">
      </div>
    </div>
  </section>

  <section id="catalogo" class="container" style="padding:40px 0">
    <h2 style="color:var(--cafe)">Colecci√≥n Floral</h2>
    <div id="productos" class="grid"></div>
  </section>

  <section id="resenas" class="reviews-section">
    <div class="container">
      <h2 style="color:var(--cafe); text-align:center; margin-bottom:40px">Experiencias de nuestros clientes ‚ú®</h2>
      <div class="reviews-grid">
        <article class="review-card">
          <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
          <p>"Est√°n tan padres las flores que me las quiero tatuar"</p>
          <small><strong>- Ponchis.</strong></small>
        </article>
        <article class="review-card">
          <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
          <p>"Me salvaron con el env√≠o express, lleg√≥ en menos de 3 horas."</p>
          <small><strong>- Chuchin.</strong></small>
        </article>
        <article class="review-card">
          <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
          <p>"El dise√±o de la p√°gina es s√∫per intuitivo y f√°cil de usar."</p>
          <small><strong>- Tito Capotito</strong></small>
        </article>
      </div>
    </div>
  </section>

  <footer style="padding:60px 0; text-align:center; color:var(--gris-600)">
    <div class="container">
      <p><strong>Maison Floral</strong></p>
      <small>¬© <span id="year"></span> Hecho con amor en CDMX üå∑</small>
    </div>
  </footer>

  <a id="waFab" class="whatsapp-fab" target="_blank">WhatsApp üí¨</a>

  <script>
    /**
     * Maison Floral - Script de Control
     */
    
    // 1. SELECTORES Y CONFIGURACI√ìN
    const $ = s => document.querySelector(s);
    const WA_NUMBER = "5651447982";

    const CATALOGO = [
      { 
        titulo: "Te pienso üåª", 
        precio: 599, 
        categoria: ["cumple", "express", "regalos"], 
        img: "assets/catalogos/flores rosas.jpg" 
      },
      { 
        titulo: "Bouquet R&Süåπ", 
        precio: 599, 
        categoria: ["aniversario","express"], 
        img: "assets/catalogos/flores_rojas.jpg" 
      },  
      { 
        titulo: "Dulce Amor üç´", 
        precio: 599, 
        categoria: ["aniversario","express","cumple"], 
        img: "assets/catalogos/flores_combinadas.jpg" 
      },     
      { 
        titulo: "Amor azul ü´ó", 
        precio: 100, 
        categoria: ["aniversario","express","cumple","regalos"], 
        img: "assets/catalogos/azul.jpg" 
      },       
      { 
        titulo:"Primavera ‚ú®", 
        precio:1200, 
        categoria:["cumple","regalos"], 
        img:"https://images.unsplash.com/photo-1513151233558-d860c5398176?w=600" 
      },
      { 
        titulo:"Caja de Rosas üéÅ", 
        precio:1100, 
        categoria:["aniversario","regalos"], 
        img:"https://images.unsplash.com/photo-1526047932273-341f2a7631f9?w=600" 
      }
    ];

    // 2. FUNCI√ìN DE RENDERIZADO
    function render(filtro = "all", busqueda = ""){
      const wrap = $("#productos");
      if(!wrap) return;
      
      wrap.innerHTML = "";
      
      const filtrados = CATALOGO.filter(p => {
        // Normalizamos b√∫squeda y categor√≠as para evitar errores de case-sensitive
        const matchCat = filtro === "all" || p.categoria.includes(filtro);
        const matchSearch = p.titulo.toLowerCase().includes(busqueda.toLowerCase());
        return matchCat && matchSearch;
      });

      if(filtrados.length === 0) {
        wrap.innerHTML = `<p style='grid-column:1/-1; text-align:center; padding:20px; color:var(--gris-600)'>
          No encontramos arreglos con "${busqueda}". ¬°Escr√≠benos y te armamos uno personalizado!
        </p>`;
        return;
      }

      filtrados.forEach(p => {
        const div = document.createElement("div");
        div.className = "card";
        // encodeURIComponent asegura que el link de WhatsApp no se rompa con caracteres especiales
        const waMsg = encodeURIComponent(`¬°Hola! Me encant√≥ el arreglo "${p.titulo}". ¬øTienen disponibilidad?`);
        
        div.innerHTML = `
          <div class="thumb">
            <img src="${p.img}" alt="${p.titulo}" loading="lazy" onerror="this.src='https://placehold.co/400x400?text=Floreria'">
          </div>
          <div style="padding:18px">
            <h4 style="margin:0">${p.titulo}</h4>
            <p class="price">$${p.precio} MXN</p>
            <a class="btn btn-secondary" style="width:100%; display:block; font-size:14px" 
               href="https://wa.me/${WA_NUMBER}?text=${waMsg}" target="_blank">Pedir üí¨</a>
          </div>
        `;
        wrap.appendChild(div);
      });
    }

    // 3. EVENTOS E INICIALIZACI√ìN
    document.addEventListener("DOMContentLoaded", () => {
      
      // A√±o Actual
      if($("#year")) $("#year").textContent = new Date().getFullYear();

      // L√≥gica de San Valent√≠n (Febrero 1-14)
      const hoy = new Date();
      if(hoy.getMonth() === 1 && hoy.getDate() <= 14) {
        document.documentElement.setAttribute('data-theme', 'sanvalentin');
      }

      // Buscador en tiempo real
      $("#buscar").addEventListener("input", e => {
        const activeCat = $(".badge.active")?.dataset.filter || "all";
        render(activeCat, e.target.value);
      });

      // Filtros por Categor√≠a
      $("#filtros").addEventListener("click", e => {
        const btn = e.target.closest(".badge");
        if(!btn) return;

        document.querySelectorAll(".badge").forEach(b => b.classList.remove("active"));
        btn.classList.add("active");
        
        render(btn.dataset.filter, $("#buscar").value);
      });

      // Configuraci√≥n de botones de WhatsApp fijos
      const defaultMsg = encodeURIComponent("Hola! Vengo de la p√°gina web y quiero informes sobre sus flores üåª");
      if($("#ctaHero")) $("#ctaHero").href = `https://wa.me/${WA_NUMBER}?text=${defaultMsg}`;
      if($("#waFab")) $("#waFab").href = `https://wa.me/${WA_NUMBER}?text=${defaultMsg}`;

      // Render inicial
      render();
    });
  </script>
</body>
</html>
